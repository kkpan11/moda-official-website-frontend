function MODAhtmlEncode(e,t){var i=document.createElement("span"),n=t?e.attr(t):e.textContent;return i.appendChild(document.createTextNode(n)),i.innerHTML}jQuery.fn.setfocus=function(){return this.each(function(){var e=this;setTimeout(function(){try{e.focus()}catch(e){}},0)})};var $window=$(window),$document=$(document),$html=$("html, body"),$body=$("body"),$navbarNav=$("#navbarNav"),$toTopBtn=$("#topBtn"),$loading=$("#loading"),resizeTimer,windowWidthUnder768=!1,windowWidthUnder992=!1,windowWidthUnder1400=!1,windowWidthUpper1200=!1,windowWidthUpper1940=!1,defaultFontSize=2,defaultTheme="",ftH,isZh=!0,wLazyLoad,printRequested=!1,allLoaded=!1,firstLoadPage=!0,wWidth=$window.width(),runTimer,FECommon=FECommon||{};!function(e){"use strict";var t={init:function(){this.fn_lang(),this.fn_toTopBtnShow(),this.fn_hashRun(),this.fn_wUnder768(),this.fn_wUnder992(),this.fn_wUnder1400(),this.fn_wUpper1200(),this.fn_wUpper1940(),this.fn_defaultStorage()},fn_lang:function(){$("html").is(":lang(zh-tw)")||(isZh=!1)},fn_toTopBtnShow:function(){ftH=$(".ftBtm").outerHeight(),$window.scrollTop()<200?$toTopBtn.removeClass("on"):$toTopBtn.addClass("on"),windowWidthUnder768?$toTopBtn.css("bottom",""):$window.scrollTop()+$window.height()>$document.height()-ftH?$toTopBtn.css("bottom",ftH-27):$toTopBtn.css("bottom",100)},fn_hashRun:function(){function e(e,t){var i,n;if(""!=e&&"#"==t)return e.preventDefault(),!1;var a=$("#toTop"==t?"html":t);return i=windowWidthUnder1400?windowWidthUnder768?80:118:168,"#___gcse_0"!=t?(n=a.stop().offset().top-i,$html.stop().animate({scrollTop:n},400,"linear",function(){"#toTop"==t&&$("#AU").focus(),"#main"==t&&$("#AC").focus()})):(n=0,$html.stop().animate({scrollTop:n},100,"linear")),!1}var t=$window[0].location,i=encodeURIComponent(t.hash);""==i||i.includes(".")||(i=decodeURIComponent(i),$(i).length&&e("",i)),$body.on("click",'a[href^="#"]',function(t){$(this).attr("href").indexOf("#qaH")<0&&e(t,$(this).attr("href"))}),$body.on("click",".gsc-cursor-page",function(t){e(t,"#___gcse_0")})},fn_wUnder768:function(){windowWidthUnder768=$window.outerWidth()<=768},fn_wUnder992:function(){windowWidthUnder992=$window.outerWidth()<=992},fn_wUnder1400:function(){windowWidthUnder1400=$window.outerWidth()<=1400},fn_wUpper1200:function(){windowWidthUpper1200=$window.outerWidth()>=1200},fn_wUpper1940:function(){windowWidthUpper1940=$window.outerWidth()>=1940},fn_setStorage:function(e,t){localStorage.setItem(e,t)},fn_getStorage:function(e){function t(e){var t=MODAhtmlEncode(e,"data-lighttitle");e.addClass("on"),e.attr("title",t).find(".visually-hidden").html(t)}if("fontSize"==e){if(localStorage.fontSize)return localStorage.fontSize;localStorage.setItem("fontSize","2")}if("theme"==e){if(void 0!=localStorage.theme)return localStorage.theme;window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&t($(".themeSwitchJs"))}},fn_defaultStorage:function(){defaultFontSize=this.fn_getStorage("fontSize"),defaultTheme=this.fn_getStorage("theme")},fn_loadingOff:function(){$loading.fadeOut("slow")},fn_loadingOn:function(){$loading.fadeIn("slow")}};e.basicInit=function(){t.init()},e.basicToTopBtnShow=function(){t.fn_toTopBtnShow()},e.basicHashRun=function(){t.fn_hashRun()},e.basicWUnder768=function(){t.fn_wUnder768()},e.basicWUnder992=function(){t.fn_wUnder992()},e.basicWUnder1400=function(){t.fn_wUnder1400()},e.basicWUpper1200=function(){t.fn_wUpper1200()},e.basicWUpper1940=function(){t.fn_wUpper1940()},e.basicDefaultStorage=function(){t.fn_defaultStorage()},e.basicSetStorage=function(e,i){t.fn_setStorage(e,i)},e.basicGetStorage=function(){t.fn_getStorage()},e.basicLoadingOff=function(){t.fn_loadingOff()},e.basicLoadingOn=function(){t.fn_loadingOn()};var i={init:function(){this.fn_headerSticky(),this.fn_navSet(),this.fn_navClose(),this.fn_sideNavSwitch(),this.fn_fontSize(),this.fn_theme(),this.fn_searchArea()},fn_headerSticky:function(){$window.scrollTop()>=parseInt($(".header").height())?$body.addClass("hdFixed"):$body.removeClass("hdFixed")},fn_navSet:function(){$("[data-submenu]").submenupicker(),$("#navbarNav .dropdown-toggle").click(function(e){windowWidthUnder1400?e.preventDefault():window.location=$(this).attr("href")}),$("#navbarNav .nav-item").mouseout(function(){windowWidthUnder1400||$(this).find(".nav-link").blur().removeClass("show").next().removeClass("show")})},fn_navClose:function(){windowWidthUnder1400||"true"!=$(".navbarNavSwitchJs").attr("aria-expanded")||$("#navbarNav").offcanvas("hide").find(".show").removeClass("show")},fn_sideNavSwitch:function(){function e(e){e.attr({title:e.data("closetitle"),"aria-expanded":"true"}).find(".visually-hidden").text(e.data("closetitle"))}function t(e){$("#navbarNav .on").removeClass("on"),$("#navbarNav .nav-link").blur(),e.attr({title:e.data("opentitle"),"aria-expanded":"false"}).find(".visually-hidden").text(e.data("opentitle"))}var i=document.getElementById("navbarNav");i.addEventListener("show.bs.offcanvas",function(){e($(".navbarNavSwitchJs"))}),i.addEventListener("hide.bs.offcanvas",function(){t($(".navbarNavSwitchJs"))})},fn_fontSize:function(){function t(){i=MODAhtmlEncode(f.find("span")[0]).replace(/(\-|\+)/,"<sup>$1</sup>"),n=f.attr("title"),a=f.attr("data-order"),o=f.find("i").attr("class")}var i,n,a,o,s,r,d,l,c=$(".fontSizeDdJs"),f=$(".fontSizeDdNow"),p=c.find(".dropdown-menu");t(),p.find("button").on({click:function(){var o=$(this);s=MODAhtmlEncode(o[0]).replace(/(\-|\+)/,"<sup>$1</sup>"),r=o.attr("title"),d=o.attr("data-order"),l="ci ci-font"+d,f.attr({title:r,"data-order":d}).find("span").html(s),f.find("i").attr("class",l),o.attr({title:n,"data-order":a}).html(i),t(),p.find("li").sort(function(e,t){return $(e).find("button").attr("data-order")-$(t).find("button").attr("data-order")}).appendTo(p),1==d&&$("body").removeClass("fontSizeL fontSizeM fontSizeS").addClass("fontSizeL"),2==d&&$("body").removeClass("fontSizeL fontSizeM fontSizeS").addClass("fontSizeM"),3==d&&$("body").removeClass("fontSizeL fontSizeM fontSizeS").addClass("fontSizeS"),e.basicSetStorage("fontSize",d),e.widgetMarquee()}}),2!=defaultFontSize&&c.find("button[data-order="+defaultFontSize+"]").click()},fn_theme:function(){function t(t){var i=MODAhtmlEncode(t,"data-lighttitle");t.addClass("on"),t.attr("title",i).find(".visually-hidden").html(i),$("html").removeClass("light").addClass("dark"),e.basicSetStorage("theme","dark")}function i(t){var i=MODAhtmlEncode(t,"data-darktitle");t.removeClass("on"),t.attr("title",i).find(".visually-hidden").html(i),$("html").removeClass("dark").addClass("light"),e.basicSetStorage("theme","light")}"dark"==defaultTheme&&t($(".themeSwitchJs")),$body.on("click",".themeSwitchJs",function(){$("html").hasClass("dark")?i($(this)):t($(this))})},fn_searchArea:function(){$body.on("click",".searchSwitchBtnJs",function(){$(".searchAreaJs").addClass("on"),windowWidthUnder1400&&($(".navbarNavSwitchJs").click(),$("body").addClass("fullH")),setTimeout(function(){$(".searchAreaIptJs").setfocus()},300)}),$body.on("click",".closeBtnJs,.searchAreaMaskJs",function(){$(".searchAreaJs").removeClass("on"),$(".searchAreaIptJs").val(""),$("body").removeClass("fullH")}),$(".searchSwitchBtnJs,.closeBtnJs").on("keydown",function(e){13===e.which&&$(".searchSwitchBtnJs").setfocus()})}};e.headerInit=function(){i.init()},e.headerHeaderSticky=function(){i.fn_headerSticky()},e.headerNavSet=function(){i.fn_navSet()},e.headerNavClose=function(){i.fn_navClose()},e.headerSideNavSwitch=function(){i.fn_sideNavSwitch()},e.headerFontSize=function(){i.fn_fontSize()},e.headerTheme=function(){i.fn_theme()},e.headerSearchArea=function(){i.fn_searchArea()};var n={init:function(){this.fn_ftNavSwitch(),this.fn_ftNavStyle()},fn_ftNavSwitch:function(){function e(e){var t=MODAhtmlEncode(e,"data-closetitle");$(".ftNavLv2").slideDown(350),$(".ftNav").removeClass("off"),e.attr("title",t).find(".visually-hidden").html(t)}function t(e){var t=MODAhtmlEncode(e,"data-opentitle");$(".ftNavLv2").slideUp(350),e.attr("title",t).find(".visually-hidden").html(t),setTimeout(function(){$(".ftNav").addClass("off")},250)}$(".ftNav").hasClass("off")?t($(".ftNavSwitchJs")):e($(".ftNavSwitchJs")),$body.on("click",".ftNavSwitchJs",function(){$(".ftNav").hasClass("off")?e($(this)):t($(this))})},fn_ftNavStyle:function(){$(".ftNavLt > div").length>5?$(".ftNavLt").addClass("itemMoreThen5"):$(".ftNavLt").removeClass("itemMoreThen5")}};e.footerInit=function(){n.init()},e.footerFtNavSwitch=function(){n.fn_ftNavSwitch()},e.footerFtNavStyle=function(){n.fn_ftNavStyle()};var a={init:function(){this.fn_socialShare(),this.fn_sidebar(),this.fn_datePicker(),this.fn_conSearchBar(),this.fn_qaAnchor(),this.fn_hintClose(),this.fn_copyLink()},fn_socialShare:function(){function e(e){n&&$(".shareBar > li").removeClass("on");var t=window.open(e,"redirect");t.open(e,"redirect")}var t=location,i=encodeURIComponent(t.href),n=!1;$body.on("click",".fbShareJs",function(){var t="http://www.facebook.com/share.php?u=".concat(i);e(t)}),$body.on("click",".ttShareJs",function(){var t="https://twitter.com/share?url=".concat(i);e(t)}),$body.on("click",".lineShareJs",function(){var t="https://lineit.line.me/share/ui?url=".concat(i);e(t)}),$body.on("click",".printJs",function(){$(".lazy").length?allLoaded?window.print():(printRequested=!0,wLazyLoad.loadAll()):window.print()}),$body.on("focus",".shareBar > li > a",function(){$(this).parent("li").addClass("on")}),$body.on("keydown",".shareBarMenu li:last-child a",function(e){9!==e.which||e.shiftKey||$(this).parents(".list-inline-item").removeClass("on")}),$body.on("keydown",".shareBar > li > a",function(e){9===e.which&&e.shiftKey&&$(this).parents(".list-inline-item").removeClass("on")}),$body.on("mouseover",".shareBar > li",function(e){n=!0,$(this).addClass("on")}),$body.on("mouseout",".shareBar li",function(e){n=!1,$(this).removeClass("on"),$(this).children("a").blur()})},fn_sidebar:function(){$(".sidebarJs .menuSub").prev("a").addClass("hasSub"),$body.on("click",".sidebarJs .menuI",function(){var e=$(this);e.parent("li").siblings().removeClass("on").find(".menuSub").slideUp(300),e.parent("li").hasClass("on")?e.parent("li").removeClass("on").find(".menuSub").slideUp(300):(e.parent("li").find(".menuSub").slideDown(300),setTimeout(function(){e.parent("li").addClass("on")},50))})},fn_datePicker:function(){function e(e){e.parents(".searchI").find(".datepicker1").datepicker("show")}isZh?($.datepicker.regional["zh-TW"]={dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesMin:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],prevText:"上月",nextText:"次月",weekHeader:"週",dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,showMonthAfterYear:!0},$.datepicker.setDefaults($.datepicker.regional["zh-TW"])):($.datepicker.regional["en-US"]={dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,showMonthAfterYear:!0},$.datepicker.setDefaults($.datepicker.regional["en-US"])),$(".datepicker1").datepicker(),$body.on("click",".calendarBtn1",function(){e($(this))})},fn_conSearchBar:function(){function e(e){$(".conSearchBarJs").removeClass("off");var t=MODAhtmlEncode(e,"data-closetitle");e.attr("title",t).find(".visually-hidden").html(t),e.find(".ci").removeClass("ci-open").addClass("ci-close")}function t(e){$(".conSearchBarJs").addClass("off");var t=MODAhtmlEncode(e,"data-opentitle");e.attr("title",t).find(".visually-hidden").html(t),e.find(".ci").removeClass("ci-close").addClass("ci-open")}$(".searchSwitchJs").length&&($(".conSearchBarJs").hasClass("off")||e($(".searchSwitchJs")),$body.on("click",".searchSwitchJs",function(){$(".conSearchBarJs").hasClass("off")?e($(this)):t($(this))}))},fn_qaAnchor:function(){$(".qa").length&&$(".qa .accordion-button").each(function(){$(this).on("click",function(){var e,t=encodeURIComponent("#"+$(this).parent().attr("id"));e=windowWidthUnder1400?windowWidthUnder768?80:118:168,setTimeout(function(){var i=$(decodeURIComponent(t)),n=i.stop().offset().top-e;$html.stop().animate({scrollTop:n},400,"linear")},400)})})},fn_hintClose:function(){$(".closeHintJs").length&&$(".closeHintJs").on("click",function(){$(".hintBar").addClass("off"),clearTimeout(runTimer),$(".hintJs").removeClass("hintJs"),$(".hintBar").hide(400)})},fn_copyLink:function(){function e(e){$("#qaH"+e).children(".accordion-button").click()}if($(".article1 .copyLinkBtnJs").length){var t=location.hash;t.length>2&&(t=t.replace("#qaH",""),e(t)),$body.on("click",".copyLinkBtnJs",function(e){function t(){i.find(".copyMsg").fadeIn(200,function(){i.find(".copyMsg").delay(1500).fadeOut(200)})}e.preventDefault();var i=$(this),n=encodeURIComponent(i.attr("href")),a=encodeURIComponent(location.search?location.search:""),o=location.protocol+"//"+location.host+location.pathname+decodeURIComponent(a)+decodeURIComponent(n);if(navigator.clipboard&&window.isSecureContext){var s=navigator.clipboard.writeText(o),r=t();return s&&r}var d=document.createElement("textarea");return d.value=o,d.style.position="absolute",d.style.opacity=0,d.style.left="-999999px",d.style.top="-999999px",document.body.appendChild(d),d.select(),new Promise(function(e,i){document.execCommand("copy")?e():i(),d.remove(),t()})})}}};e.mainInit=function(){a.init()},e.mainSocialShare=function(){a.fn_socialShare()},e.mainSidebar=function(){a.fn_sidebar()},e.mainDatePicker=function(){a.fn_datePicker()},e.mainConSearchBar=function(){a.fn_conSearchBar()},e.mainQaAnchor=function(){a.fn_qaAnchor()},e.mainHintClose=function(){a.fn_hintClose()};var o={init:function(){this.fn_setVideo(),this.fn_kv1Swiper(),this.fn_idxList1Swiper(),this.fn_idxList2Swiper(),this.fn_idxList3Swiper(),this.fn_idxList4Swiper(),this.fn_idxList5Swiper(),this.fn_idxList6Swiper(),this.fn_magnific(),this.fn_marquee(),this.fn_lazyload(),this.fn_aos()},fn_setVideo:function(e){function t(e){var t=document.createElement("iframe");t.setAttribute("src","https://www.youtube.com/embed/"+e.dataset.id+"?autoplay=1&rel=0"),t.setAttribute("title",e.dataset.title),t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","1"),t.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),e.parentNode.replaceChild(t,e)}function i(){if(void 0==e)var i=document.getElementsByClassName("ytPlayer");else var i=e.find(".ytPlayer");for(var n=0;n<i.length;n++){var a=i[n].dataset.title,o=i[n].dataset.id,s=document.createElement("div");s.setAttribute("data-id",o),s.setAttribute("data-title",a);var r=document.createElement("img");firstLoadPage?(r.dataset.src="//i.ytimg.com/vi/ID/hqdefault.jpg".replace("ID",o),r.className="lazy"):r.src="//i.ytimg.com/vi/ID/hqdefault.jpg".replace("ID",o),r.alt=a,s.appendChild(r);var d=document.createElement("div");d.setAttribute("class","play"),s.appendChild(d),s.onclick=function(){t(this)},i[n].appendChild(s)}firstLoadPage&&(firstLoadPage=!1)}i()},fn_kv1Swiper:function(){function e(){t=$(".kv1SwiperJs .swiper-slide"),i=$(".kv1SwiperJs .swiper-slide-active"),n=$(".kv1SwiperPageJs .swiper-pagination-bullet"),a=$(".kv1SwiperPageJs .swiper-pagination-bullet-active"),t.attr("aria-hidden","true"),t.find("a, iframe").attr("tabindex",-1),i.attr("aria-hidden",""),i.find("a, iframe").attr("tabindex",""),n.attr("aria-current",""),a.attr("aria-current","true")}if($(".kv1SwiperJs .swiper-slide").length>1){var t,i,n,a,o=[];$(".kv1SwiperJs .swiper-slide").each(function(){$(this).find(".kvTxt").length&&o.push($(this).find(".kvTxt").text()),$(this).find(".ytPlayer").length&&o.push($(this).find(".ytPlayer").data("title"))});var s;s=!$(".kv1SwiperJs").find(".ytWrap").length&&{delay:7e3,disableOnInteraction:!1};var r=new Swiper(".kv1SwiperJs",{preloadImages:!1,pagination:{el:".kv1SwiperPageJs",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'"><i>'+o[e]+"</i></span>"}},navigation:{nextEl:".kv1SwiperNextBtnJs",prevEl:".kv1SwiperPrevBtnJs"},autoplay:s,loop:!0,observer:!0,observeParents:!0,watchOverflow:!0,on:{afterInit:function(){e()},slideChangeTransitionEnd:function(){e()}}});$(".kv1SwiperPrevBtnJs").on("focus",function(){r.autoplay.stop()}),$(".kv1SwiperPageJs span:last-child").on("focus",function(){r.autoplay.stop()}),$(".kv1SwiperPrevBtnJs,.kv1SwiperPageJs span:last-child").on("mousedown",function(e){e.preventDefault()}),$(".kv1SwiperPrevBtnJs").on("keydown",function(e){9===e.which&&e.shiftKey&&0!=s&&r.autoplay.start()}),$(".kv1SwiperPageJs span:last-child").on("keydown",function(e){9!==e.which||e.shiftKey||0==s||r.autoplay.start()})}else $(".kv1SwiperJs").addClass("oneKv"),$(".kv1SwiperJs").find(".swiper-lazy").each(function(){var e=$(this).data("background");$(this).css("background-image","url("+e+")")}),$(".kv1SwiperJs").find(".swiper-lazy-preloader").remove()},fn_idxList1Swiper:function(){function e(){$(".idxList1SwiperPrevBtnJs").hasClass("swiper-button-lock")?$(".idxList1SwiperJs .swiper-wrapper").css("justify-content","center"):$(".idxList1SwiperJs .swiper-wrapper").css("justify-content","")}function t(e){var t,i,n=e.params.slidesPerView,a=e.slides.length,o=[];if(a>n){for(var s=1;s<=a/n;s++)o.push(n*s);$body.on("keydown",".idxList1SwiperJs .swiper-slide a",function(a){function s(e){$(".idxList1SwiperJs .swiper-wrapper").css("justify-content","flex-end"),setTimeout(function(){e()},10)}t=$(this).parent().attr("aria-label").split(" / "),i=o.some(function(e,i,n){return e==t[0]}),i&&parseInt(t[0])<o.length*n&&9===a.which&&!a.shiftKey&&(e.slideTo(parseInt(t[0]),300,!1),s(function(){$(".idxList1SwiperJs .swiper-wrapper").css("justify-content","flex-start")}))})}}if($(".idxList1SwiperJs").length){var i=$(".idxIssue h2").text();new Swiper(".idxList1SwiperJs",{pagination:{el:".idxList1SwiperPageJs",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'"><i>第'+(e+1)+"組"+i+"</i></span>"}},navigation:{nextEl:".idxList1SwiperNextBtnJs",prevEl:".idxList1SwiperPrevBtnJs"},observer:!0,observeParents:!0,watchOverflow:!0,breakpoints:{1500:{slidesPerGroup:4,slidesPerView:4},1200:{slidesPerGroup:3,slidesPerView:3},992:{slidesPerGroup:2,slidesPerView:2}},on:{afterInit:function(i){e(),t(i)},resize:function(i){e(),t(i)}}})}},fn_idxList2Swiper:function(){function e(){n=$(".idxPlan h2").text(),i=new Swiper(".tab-pane .idxList2SwiperJs",{pagination:{el:".tab-pane .idxList2SwiperPageJs",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'"><i>第'+(e+1)+"組"+n+"</i></span>"}},navigation:{nextEl:".idxList2SwiperNextBtnJs",prevEl:".idxList2SwiperPrevBtnJs"},centeredSlides:!0,loop:!0,observer:!0,observeParents:!0,breakpoints:{1940:{slidesPerView:6},1200:{slidesPerView:4},768:{slidesPerView:2}},on:{afterInit:function(e){a.removeClass("lowItem").addClass("initSwiper")}}})}function t(){void 0!=i&&i.destroy(),a.addClass("lowItem").removeClass("initSwiper"),setTimeout(function(){$(".tab-pane .idxList2SwiperJs .swiper-wrapper").css("transform","none")},50)}var i,n,a=$(".tab-pane .idxList2"),o=$(".tab-pane .idxList2SwiperJs .swiper-slide");return a.hasClass("initSwiper")||e(),windowWidthUpper1940?(o.not(".swiper-slide-duplicate").length>5&&!a.hasClass("initSwiper")?e():o.not(".swiper-slide-duplicate").length<=5&&a.hasClass("initSwiper")&&t(),!1):windowWidthUpper1200?(o.not(".swiper-slide-duplicate").length>3&&!a.hasClass("initSwiper")?e():o.not(".swiper-slide-duplicate").length<=3&&a.hasClass("initSwiper")&&t(),!1):windowWidthUpper1200?void 0:(o.not(".swiper-slide-duplicate").length>1&&!a.hasClass("initSwiper")?e():o.not(".swiper-slide-duplicate").length<=1&&a.hasClass("initSwiper")&&t(),!1)},fn_idxList3Swiper:function(){function e(){$(".idxList3SwiperPrevBtnJs").hasClass("swiper-button-lock")?$(".idxList3SwiperJs .swiper-wrapper").css("justify-content","center"):$(".idxList3SwiperJs .swiper-wrapper").css("justify-content","")}if($(".idxList3SwiperJs").length){var t=$(".idxPartner h2").text();new Swiper(".idxList3SwiperJs",{preloadImages:!1,pagination:{el:".idxList3SwiperPageJs",clickable:!0,renderBullet:function(e,i){return'<span class="'+i+'"><i>第'+(e+1)+"組"+t+"</i></span>"}},navigation:{nextEl:".idxList3SwiperNextBtnJs",prevEl:".idxList3SwiperPrevBtnJs"},observer:!0,observeParents:!0,breakpoints:{1200:{slidesPerGroup:5,slidesPerView:5},992:{slidesPerGroup:4,slidesPerView:4},768:{slidesPerGroup:3,slidesPerView:3},541:{slidesPerGroup:2,slidesPerView:2}},on:{afterInit:function(){e()},resize:function(){e()}}})}},fn_idxList4Swiper:function(){function t(){o=$(".idxList4SwiperJs .swiper-slide"),i=$(".idxList4SwiperJs .swiper-slide-active"),n=$(".idxList4SwiperPageJs .swiper-pagination-bullet"),a=$(".idxList4SwiperPageJs .swiper-pagination-bullet-active"),o.attr("aria-hidden","true"),o.find(".ytPlayer .play").attr("tabindex",-1),i.attr("aria-hidden",""),i.find(".ytPlayer .play").attr("tabindex",0),n.attr("aria-current",""),a.attr("aria-current","true"),$body.on("keyup",".ytPlayer > div",function(e){"Enter"!==e.key&&13!==e.keyCode||$(this).click()})}if($(".idxList4SwiperJs .swiper-slide").length>1){var i,n,a,o=$(".idxList4SwiperJs .swiper-slide"),s=[],r=[];o.each(function(e){s[e]=$(this).find(".ytPlayer").data("id"),r[e]=$(this).find(".ytPlayer").data("title")});var d=[];$(".idxList4SwiperJs .swiper-slide").each(function(){d.push($(this).find(".ytPlayer").data("title"))});new Swiper(".idxList4SwiperJs",{pagination:{el:".idxList4SwiperPageJs",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'"><i>'+d[e]+"</i></span>"}},navigation:{nextEl:".idxList4SwiperNextBtnJs",prevEl:".idxList4SwiperPrevBtnJs"},slidesPerView:2,centeredSlides:!0,loop:!0,observer:!0,observeParents:!0,watchOverflow:!0,breakpoints:{0:{slidesPerView:1},992:{slidesPerView:2}},on:{afterInit:function(){t()},slideChangeTransitionStart:function(t){function i(t){$(".idxList4SwiperJs").find("[data-swiper-slide-index='"+t+"']").html('<div class="ytWrap"><div class="ytPlayer rounded-4" data-id="'+s[t]+'" data-title="'+r[t]+'"></div></div><b class="title">'+r[t]+"</b>"),e.widgetSetVideo($(".idxList4SwiperJs").find("[data-swiper-slide-index='"+t+"']"))}var n=this.previousIndex-2,a=t.pagination.bullets.length-1;n>-1&&i(n),0==n&&i(a)},slideChangeTransitionEnd:function(){t()}}})}else $(".idxList4").addClass("lowItem")},fn_idxList5Swiper:function(){function e(){t=$(".idxList5SwiperJs .swiper-slide"),i=$(".idxList5SwiperJs .swiper-slide-active"),n=$(".idxList5SwiperPageJs .swiper-pagination-bullet"),a=$(".idxList5SwiperPageJs .swiper-pagination-bullet-active"),t.attr("aria-hidden","true"),t.find("a, iframe").attr("tabindex",-1),i.attr("aria-hidden",""),i.find("a, iframe").attr("tabindex",""),n.attr("aria-current",""),a.attr("aria-current","true")}if($(".idxList5SwiperJs .swiper-slide").length>1){var t,i,n,a,o=[];$(".idxList5SwiperJs .swiper-slide").each(function(){o.push($(this).find(".pic img").attr("alt"))});var s;s=1!=$(".idxList5SwiperJs").data("notautoplay")&&{delay:7e3,disableOnInteraction:!1};var r=new Swiper(".idxList5SwiperJs",{preloadImages:!1,pagination:{el:".idxList5SwiperPageJs",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'"><i>'+o[e]+"</i></span>"}},navigation:{nextEl:".idxList5SwiperNextBtnJs",prevEl:".idxList5SwiperPrevBtnJs"},slidesPerView:2,centeredSlides:!0,autoplay:s,loop:!0,observer:!0,observeParents:!0,watchOverflow:!0,breakpoints:{0:{slidesPerView:1},992:{slidesPerView:2}},on:{afterInit:function(){e()},slideChangeTransitionEnd:function(){e()}}});$(".idxList5SwiperPrevBtnJs").on("focus",function(){r.autoplay.stop()}),$(".idxList5SwiperPageJs span:last-child").on("focus",function(){r.autoplay.stop()}),$(".idxList5SwiperPrevBtnJs,.idxList5SwiperPageJs span:last-child").on("mousedown",function(e){e.preventDefault()}),$(".idxList5SwiperPrevBtnJs").on("keydown",function(e){9===e.which&&e.shiftKey&&0!=s&&r.autoplay.start()}),$(".idxList5SwiperPageJs span:last-child").on("keydown",function(e){9!==e.which||e.shiftKey||0==s||r.autoplay.start()})}else $(".idxList5").addClass("lowItem")},fn_idxList6Swiper:function(){function e(){$(".idxList6SwiperPrevBtnJs").hasClass("swiper-button-lock")?$(".idxList6SwiperJs .swiper-wrapper").css("justify-content","center"):$(".idxList6SwiperJs .swiper-wrapper").css("justify-content","")}if($(".idxList6SwiperJs").length){var t=$(".idxPartner h2").text();new Swiper(".idxList6SwiperJs",{preloadImages:!1,pagination:{el:".idxList6SwiperPageJs",clickable:!0,renderBullet:function(e,i){return'<span class="'+i+'"><i>第'+(e+1)+"組"+t+"</i></span>"}},navigation:{nextEl:".idxList6SwiperNextBtnJs",prevEl:".idxList6SwiperPrevBtnJs"},observer:!0,observeParents:!0,breakpoints:{992:{slidesPerGroup:4,slidesPerView:4},768:{slidesPerGroup:3,slidesPerView:3},541:{slidesPerGroup:2,slidesPerView:2}},on:{afterInit:function(){e()},resize:function(){e()}}})}},fn_magnific:function(){$(".picZoomJs").each(function(){var e=$(this),t=e.data("mctxtclose"),i=e.data("mctxtprev"),n=e.data("mctxtnext"),a=e.data("mctxtnum");e.magnificPopup({delegate:"a",type:"image",closeOnContentClick:!1,closeBtnInside:!1,tClose:t,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0,titleSrc:function(e){return e.el.find("b").html()}},gallery:{enabled:!0,tPrev:i,tNext:n,tCounter:'<span title="'+a+'">%curr% of %total%</span>'},zoom:{enabled:!0,duration:300,opener:function(e){return e.find("img")}}})})},fn_marquee:function(){function e(){var e=parseInt(u*l);c.eq(0).animate({left:u*-1},e,"linear",function(){c.css({top:"-2em",left:0}),setTimeout(function(){c.animate({top:"0"},d,function(){t()})},d)})}function t(){setTimeout(e,r)}function i(e){var t=$(".hintJs").innerWidth(),i=c.eq(e).innerWidth(),o=e-1>=0?e-1:f-1;if(i<t)n(e,o);else{var s=parseInt(i*l);a(e,o,i,s)}}function n(e,t){c.eq(e).animate({top:0},d,"linear"),o(t);var n=e===f-1?0:++e;runTimer=setTimeout(i,r,n)}function a(e,t,n,a){c.eq(e).animate({top:0},d,"linear",function(){runTimer=setTimeout(function(){c.eq(e).animate({left:n*-1},a,"linear",function(){var t=e===f-1?0:++e;runTimer=setTimeout(i,500,t)})},2e3)}),o(t)}function o(e){c.eq(e).animate({top:s},d,"linear",function(){c.eq(e).css({top:"-2em",left:0})})}if($(".hintJs").length){var s="2em",r=7e3,d=850,l=15,c=$(".hintJs li"),f=c.length;if(clearTimeout(runTimer),c.stop().css({top:"-"+s,left:0}),0==f)return!1;if(1==f){var p=$(".hintJs").innerWidth(),u=c.eq(0).innerWidth();c.css("top",0),u>p&&t()}f>1&&(c.css("top","-"+s),i(0)),c.find("a").on("focus",function(){var e=$(this).parent("li").index();clearTimeout(runTimer),c.css({top:"-"+s,left:0}),c.eq(e).stop().css({top:0,left:0})}).on("mousedown",function(e){e.preventDefault()})}},fn_lazyload:function(){if($(".lazy").length){printRequested=!1,allLoaded=!1;var e=function(e){e.src="/assets/img/pic_wait1.jpg"},t=function(){allLoaded=!0,printRequested&&window.print()};wLazyLoad=new LazyLoad({class_applied:"lz-applied",class_loading:"lz-loading",class_loaded:"lz-loaded",class_error:"lz-error",class_entered:"lz-entered",class_exited:"lz-exited",cancel_on_exit:!1,threshold:100,callback_error:e,callback_finish:t});var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(i){var n=window.matchMedia("print");n.addListener(function(e){e.matches&&wLazyLoad.loadAll()})}else window.onbeforeprint=function(){wLazyLoad.loadAll()}}},fn_aos:function(){AOS.init({offset:0,delay:100,duration:800}),$("#idxNewsTab").length&&$body.on("click","#idxNewsTab .nav-link",function(){setTimeout(function(){AOS.refreshHard()},300)})}};e.widgetInit=function(){o.init()},e.widgetSetVideo=function(e){o.fn_setVideo(e)},e.widgetKv1Swiper=function(){o.fn_kv1Swiper()},e.widgetIdxList1Swiper=function(){o.fn_idxList1Swiper()},e.widgetIdxList2Swiper=function(){o.fn_idxList2Swiper()},e.widgetIdxList3Swiper=function(){o.fn_idxList3Swiper()},e.widgetIdxList4Swiper=function(){o.fn_idxList4Swiper()},e.widgetIdxList5Swiper=function(){o.fn_idxList5Swiper()},e.widgetIdxList6Swiper=function(){o.fn_idxList6Swiper()},e.widgetMagnific=function(){o.fn_magnific()},e.widgetMarquee=function(){o.fn_marquee()},e.widgetLazyload=function(){o.fn_lazyload()},e.widgetAos=function(){o.fn_aos()};var s={init:function(){this.fn_navFocus(),this.fn_searchPop()},fn_navFocus:function(){$body.on("focus","#navbarNav .dropdown-toggle",function(){$(this).closest("li").addClass("on")}),$body.on("click","#navbarNav .dropdown-toggle",function(){$(this).parent("li").removeClass("on"),$(this).parent("li").siblings(".on").removeClass("on")}),$body.on("keydown","#navbarNav .dropdown-menu > li:nth-last-child(1) a",function(e){$(this).parent("li").next("li").length||($(this).parent("li").parent("ul").parent(".nav-item").length?$(this).next("ul").length||9!==e.which||e.shiftKey||$(this).parents(".on").removeClass("on"):(9!==e.which||e.shiftKey||$(this).parent("li").parent("ul").parent(".dropdown").removeClass("on"),$(this).parent("li").parent("ul").parent(".dropdown").next("li").length||$(this).parent("li").parent("ul").parent(".dropdown").parent("ul").parent(".nav-item").removeClass("on")))}),$body.on("keydown","#navbarNav .nav-link",function(e){9===e.which&&e.shiftKey&&$(this).parents(".on").removeClass("on")}),$document.on("click",function(){$navbarNav.find("on")&&$("#navbarNav .on").removeClass("on")})},fn_searchPop:function(){$(".searchAreaJs .closeBtnJs").on("keydown",function(e){9!==e.which||e.shiftKey||($(".searchAreaJs").removeClass("on"),$(".searchAreaIptJs").val(""))})}};e.a11yInit=function(){s.init()},e.a11yNavFocus=function(){s.fn_navFocus()};var r={init:function(){e.basicInit(),e.headerInit(),e.footerInit(),e.widgetInit(),e.a11yInit()}};e.documentOnReadyInit=function(){r.init()};var d={init:function(){e.mainInit()}};e.documentOnLoadInit=function(){d.init()};var l={init:function(){e.basicWUnder768(),e.basicWUnder992(),e.basicWUnder1400(),e.basicWUpper1200(),e.basicWUpper1940(),e.headerNavClose(),e.widgetIdxList2Swiper(),$(window).width()!=wWidth&&e.widgetMarquee(),this.fn_lazyUpdate()},fn_lazyUpdate:function(){$(".idxList4Swiper").length&&wLazyLoad.update()}};e.documentOnResizeInit=function(){l.init()},e.documentOnResizeLazyUpdate=function(){l.fn_lazyUpdate()};var c={init:function(){e.basicToTopBtnShow(),e.headerHeaderSticky()}};e.documentOnScrollInit=function(){c.init()}}(FECommon),$(document).ready(function(){FECommon.documentOnReadyInit()}),$window.on("load",FECommon.documentOnLoadInit),$window.on("scroll",FECommon.documentOnScrollInit),$window.on("resize",function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){FECommon.documentOnResizeInit()},250)});